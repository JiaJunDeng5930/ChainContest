# Global defaults reused across services
NODE_ENV=development
LOG_LEVEL=info

# Database connectivity
DATABASE_URL=postgresql://chaincontest:chaincontest@postgres:5432/chaincontest
PG_BOSS_SCHEMA=boss
PG_BOSS_URL=postgresql://chaincontest:chaincontest@postgres:5432/chaincontest

# Chain RPC (Sepolia by default â€“ replace with team preferred RPCs)
CHAIN_RPC_PRIMARY=http://hardhat-node:8545
CHAIN_RPC_PUBLIC_URL=http://127.0.0.1:48545
CHAIN_RPC_FALLBACK=

# --- API Server (@chaincontest/api-server) ---
NEXTAUTH_SECRET=dev-bootstrap-secret-please-change
NEXTAUTH_URL=http://localhost:44000
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=60

# --- Web UI (@chaincontest/web-ui) ---
API_BASE_URL=http://api-server:4000
NEXT_PUBLIC_API_BASE_URL=http://localhost:44000
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=ff66cae37b0a109eb7e1f83bd053ad7c

# --- Indexer Event Service (@chaincontest/indexer-event) ---
INDEXER_EVENT_PORT=4005
INDEXER_EVENT_POLL_INTERVAL_MS=6000
INDEXER_EVENT_MAX_BATCH=200
INDEXER_EVENT_RPC_FAILURE_THRESHOLD=3
INDEXER_EVENT_RPC_COOLDOWN_MS=60000
INDEXER_EVENT_RPCS=[{"chainId":31337,"label":"hardhat","endpoints":[{"id":"hardhat-primary","url":"http://hardhat-node:8545","priority":0}]}]
INDEXER_EVENT_VALIDATION_REGISTRY_PATH=configs/validation/db-validation-registry.cjs
INDEXER_EVENT_VALIDATION_OVERRIDES_PATH=configs/validation/db-validation-overrides.cjs

# --- Indexer Tasks Service (@chaincontest/indexer-tasks) ---
INDEXER_TASKS_PORT=4010
INDEXER_TASKS_METRICS_PORT=4011
INDEXER_TASKS_QUEUE_CONCURRENCY=4
INDEXER_TASKS_QUEUE_FETCH_INTERVAL_MS=100
INDEXER_TASKS_RPC_FAILURE_THRESHOLD=3
INDEXER_TASKS_SHUTDOWN_TIMEOUT_MS=10000
INDEXER_TASKS_DISABLE_NOTIFICATIONS=true
TASKS_VALIDATION_REGISTRY_PATH=configs/validation/db-validation-registry.cjs
TASKS_VALIDATION_OVERRIDES_PATH=configs/validation/db-validation-overrides.cjs
